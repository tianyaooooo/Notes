# 模块二：非线性结构  

## 1. 树  

### 定义

专业定义：有且仅有一个称为根的结点；有若干个互不相交的子树，这些子树本身也是一棵树

通俗定义：树是由结点和边组成；每个结点只有一个父结点但可以有多个子结点；有一个结点例外，该结点没有父结点，此节点称为根结点

专业术语：  
* 结点 父结点 子结点  
* 子孙 堂兄弟   
* 深度：从根结点到最底层结点的层数称之为深度，根结点是第一层  
* 叶子结点：没有子结点的结点  
* 非终端结点：非叶子结点  
* （结点的）度：子结点的个数  
* （树的）度：树内各结点的度的最大值

### 分类 
一般树：任意一个结点的子结点的个数都不受限制，子结点无序

二叉树：任意一个结点的子结点的个数**最多两个**，且子结点的位置**不可更改**（有序）  
* 特殊二叉树： 
  - 满二叉树：在不增加树的层数的前提下，无法再多添加一个结点的二叉树  
  - 完全二叉树：只删除了满二叉树最底层最右边的连续若干个结点所形成的的二叉树
	
 森林：n 个互不相交的树的集合

### 树的存储  

一般树的存储：  

* 双亲表示法：求父结点方便
* 孩子表示法：求子结点方便
* 双亲孩子表示法：求父结点和子结点都很方便
* 二叉树表示法（孩子兄弟表示法）：把一个普通树转化成二叉树来存储，即设法保证任意一个结点的左指针域指向它的第一个孩子，右指针域指向它的下一个兄弟（一个普通树转化成的二叉树一定没有右子树）

二叉树的存储：  

* 连续存储【只能以完全二叉树的方式来存储】  
优点：查找某个结点的父节点和子结点（也包括判断有没有子结点）速度很快 O(1)  
缺点：耗用内存空间过大

* 链式存储  
左指针域、数据域、右指针域

森林的存储：

先把森林转化为二叉树（方法类似孩子兄弟表示法），再存储二叉树

### （二叉树的）操作

遍历

* 先序遍历【先访问根结点】：先访问根结点；再先序遍历左子树；再先序遍历右子树  
* 中序遍历【中间访问根结点】：先中序遍历左子树；再访问根结点；再中序遍历右子树  
* 后序遍历【最后访问根结点】：先后序遍历左子树；再后序遍历右子树；再访问根结点   

**另外，有一类常考的题目：已知两种遍历序列求原始二叉树**

通过 先序和中序 或 中序和后序 我们可以还原出原始的二叉树，但是通过 先序和后序 无法还原出原始的二叉树

【例子1】  
先序：ABDGHCEFI  
中序：GDHBAECIF  
求后序？  
分析：按照先序的定义得到 A 为根结点，再根据中序结果可知 GDHB 为 A 的左子树，ECIF 为 A 的右子树；B 先出现在先序结果中可知 B 为左子树的根结点，再根据中序结果知 B 结点没有右子树，GDH 均为 B 结点的左子树，再根据先序结果 D 先出现，知 D 为 B 左子树的根结点，中序中 G 在 D 的前面得出 G 为 D 左子树的根结点，那么 D 的右子树的根结点就是 H 了，依次类推 A 的右子树，得出原始二叉树为：


           A  
          / \  
         B   C  
       /   / \  
       D   E   F  
      / \     /  
     G   H   I  

那么此二叉树的后序为：GHDBEIFCA  

【例子2】  
先序：ABCDEFGH  
中序：BDCEAFHG  
求后序？  
分析：按照先序的定义，A 为根结点，按照中序的定义和前面的结论可知 BDCE 为 A 结点的左子树，FHG 为 A 节点的右子树，再依次按照两个遍历定义可以推出原始二叉树为：  

        A  
       / \  
      B   F  
        \  \  
         C  G  
        / \ /  
       D  E H  
       
那么此二叉树的后序为：DECBHGFA  


【例子3】  
中序：BDCEAFHG  
后序：DECBHGFA  
求先序？  
分析：由后序结果知 A 为根结点，再根据中序结果知 BDCE 为 A 结点的左子树，FHG 为 A 的右子树；根据后序规则 A 的左子树中 B 最后出现，那么 B 为左子树的根结点，再根据中序规则知 B 没有左子树，DCE 均为 B 的右子树，在 DCE 的后序结果中 C 最后出现，得出 C 为 B 的右子树的根结点，再依据中序结果知 C 前面是 D 后面是 E 得出 D 为 C 的左子树，E 为 C 的右子树，同理可以推出 A 的右子树，得出原始二叉树为：

        A  
       / \  
      B   F  
       \   \  
        C   G  
       / \  /  
      D   E H  
      
那么此二叉树的先序为：ABCDEFGH  

### 应用  

树是数据库中数据组织的一种重要形式  

操作系统子父进程的关系本身就是一棵树  

面向对象语言中类的继承关系本身就是一棵树  

赫夫曼树
